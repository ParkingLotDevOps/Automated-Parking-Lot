{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport MapView, { Marker } from 'react-native-maps';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport React, { useState, useEffect } from 'react';\nimport * as Location from 'expo-location';\nimport img from \"../../assets/fii.png\";\nimport { color } from 'react-native-reanimated';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar height = Dimensions.get('window').height * 0.95;\nvar edgePadding = {\n  bottom: 40,\n  right: 0,\n  left: 0,\n  top: 25\n};\nvar ImageUri = Image.resolveAssetSource(img).uri;\nvar lat = 47.17387201124383;\nvar long = 27.574846627023366;\n\nvar Map = function Map() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      location = _useState2[0],\n      setLocation = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errorMsg = _useState4[0],\n      setErrorMsg = _useState4[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var _await$Location$reque, status, location;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Location.requestForegroundPermissionsAsync());\n\n            case 2:\n              _await$Location$reque = _context.sent;\n              status = _await$Location$reque.status;\n\n              if (!(status !== 'granted')) {\n                _context.next = 7;\n                break;\n              }\n\n              setErrorMsg('Permission to access location was denied');\n              return _context.abrupt(\"return\");\n\n            case 7:\n              _context.next = 9;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({\n                timeInterval: 10000,\n                accuracy: Location.Accuracy.Balanced\n              }));\n\n            case 9:\n              location = _context.sent;\n              setLocation(location);\n              lat = location.coords.latitude;\n              long = location.coords.longitude;\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n  var text = 'Waiting..';\n\n  if (errorMsg) {\n    text = errorMsg;\n  } else if (location) {\n    text = JSON.stringify(location);\n    lat = Number(JSON.stringify(location.coords.latitude));\n    long = Number(JSON.stringify(location.coords.longitude));\n  }\n\n  return _jsx(MapView, {\n    style: styles.map,\n    provider: \"google\",\n    loadingEnabled: true,\n    showsUserLocation: true,\n    showsMyLocationButton: true,\n    showsPointsOfInterest: true,\n    showsCompass: true,\n    toolbarEnabled: true,\n    mapPadding: edgePadding,\n    region: {\n      latitude: lat,\n      longitude: long,\n      latitudeDelta: 0.008,\n      longitudeDelta: 0.008\n    },\n    children: _jsx(Marker, {\n      coordinate: {\n        latitude: 47.17387201124383,\n        longitude: 27.574846627023366,\n        latitudeDelta: 0.008,\n        longitudeDelta: 0.008\n      },\n      title: \"FII\",\n      description: \"Place of suffering\",\n      image: {\n        uri: ImageUri,\n        scale: 1\n      }\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  map: {\n    height: height\n  }\n});\nexport default Map;","map":{"version":3,"names":["MapView","Marker","React","useState","useEffect","Location","img","color","height","Dimensions","get","edgePadding","bottom","right","left","top","ImageUri","Image","resolveAssetSource","uri","lat","long","Map","location","setLocation","errorMsg","setErrorMsg","requestForegroundPermissionsAsync","status","getCurrentPositionAsync","timeInterval","accuracy","Accuracy","Balanced","coords","latitude","longitude","text","JSON","stringify","Number","styles","map","latitudeDelta","longitudeDelta","scale","StyleSheet","create"],"sources":["C:/Users/Raluca/Desktop/Front-end - Copy (1)/Front-end - backup 6mai ora 15/components/map/Map.js"],"sourcesContent":["import MapView, { Marker } from 'react-native-maps'\r\nimport { StyleSheet, Dimensions, Image } from 'react-native'\r\nimport React, { useState, useEffect } from 'react';\r\nimport * as Location from 'expo-location';\r\nimport img from '../../assets/fii.png';\r\nimport { color } from 'react-native-reanimated';\r\n\r\nconst height = Dimensions.get('window').height * 0.95;\r\nconst edgePadding = { bottom: 40, right: 0, left: 0, top: 25};\r\nconst ImageUri = Image.resolveAssetSource(img).uri\r\nvar lat = 47.17387201124383;\r\nvar long = 27.574846627023366;\r\n\r\nconst Map = () => {\r\n  const [location, setLocation] = useState(null);\r\n  const [errorMsg, setErrorMsg] = useState(null);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      let { status } = await Location.requestForegroundPermissionsAsync();\r\n      if (status !== 'granted') {\r\n        setErrorMsg('Permission to access location was denied');\r\n        return;\r\n      }\r\n      let location = await Location.getCurrentPositionAsync({timeInterval:10000, \r\n        accuracy: Location.Accuracy.Balanced});\r\n\r\n      setLocation(location);\r\n      lat = location.coords.latitude;\r\n      long = location.coords.longitude;\r\n      //console.log(location);\r\n    })();\r\n  }, []);\r\n\r\n  let text = 'Waiting..';\r\n  if (errorMsg) {\r\n    text = errorMsg;\r\n  } else if (location) {\r\n    text = JSON.stringify(location);\r\n    lat = Number(JSON.stringify(location.coords.latitude));\r\n    long = Number(JSON.stringify(location.coords.longitude));\r\n  }\r\n  //console.log('%d %d', lat, long);\r\n\r\n  return (\r\n      <MapView\r\n        style={styles.map}\r\n        provider='google'\r\n        loadingEnabled\r\n        showsUserLocation\r\n        showsMyLocationButton\r\n        showsPointsOfInterest\r\n        showsCompass\r\n        toolbarEnabled\r\n        mapPadding={edgePadding}\r\n        region={{\r\n          latitude: lat,\r\n          longitude: long,\r\n          latitudeDelta: 0.008,\r\n          longitudeDelta: 0.008\r\n        }}\r\n      >\r\n      <Marker\r\n            coordinate={{\r\n                latitude: 47.17387201124383,\r\n                longitude: 27.574846627023366,\r\n                latitudeDelta: 0.008, \r\n                longitudeDelta: 0.008\r\n            }}\r\n            title='FII'\r\n            description='Place of suffering'\r\n            image={{uri:ImageUri, scale:1}}\r\n        />\r\n      </MapView>\r\n  )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  map: {\r\n    height\r\n  }\r\n})\r\n\r\nexport default Map"],"mappings":"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"},"metadata":{},"sourceType":"module"}